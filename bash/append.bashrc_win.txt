sigtrap(){
  echo Interrupted
  #trap - INT # reset to default
  trap #show acive traps
}

trap 'sigtrap' INT # ignore ctrl-C

alias m='less -N'

# above are experimental features to be added to github
alias ..='cd .. ; ls1page'
alias cp='cp -i'  # defuse
alias d='df -h /c'
alias hgi='history |grep -i'
alias l=ls1page
alias mv='mv -i'  # defuse
alias nn='git commit -a --amend --no-edit; gg 1 ' #useful while standing in train
alias py='winpty /c/python27/python.exe'
alias python='echo python command breaks in git-bash.. Disable this alias if you must.'
alias s-='  source  $HOME/.bashrc  '
alias s+='    vi $HOME/append.bashrc_win.txt '
alias t='ls1page -t'
alias

0copy(){ 
  blog=`echo $prj`
 #cp -v /d/20030221_0.txt $blog/misc/0.txt
  cp -v /d/20030221*.txt  $blog/misc || \
  cp -v /e/20030221*.txt  $blog/misc
  # pw files not to be checked in. Also, previous copies should be removed promptly.
  # cp-u means iFF-newer but my git-checkout would update timestamp :(
}
exa(){ #testing: exa -t ss ~/.ssh
# proven in git-bash since 2019
  local ops
  while is_opt=`echo $1 |perl -ne 'print if /^-/'  ` && [ "$is_opt" ]; do
    ops="$ops $1"; shift
  done
  if [ $# -eq 1 ]; then
    fullpath=$1
    shortname=`echo $1|perl -pe 's|/$||;s|^.*/||'   `
  else
    fullpath=$2
    shortname=$1
  fi
  [ -x $fullpath ] || return
  eval $shortname="$fullpath" # create a shell variable with a dynamic name!
  echo -e $shortname '\t' now set to $fullpath
  prj="$fullpath"
  alias  "$shortname"="cd $fullpath;ls1page $ops"
  alias  prj=$shortname # USE MORE
}
gg(){ 
  cnt=${1:-3} #by default shows 3 commits
  git log -$cnt
}
ls1page(){
  ls -ahlF --color=always $*
}
pp(){ #by default does a  traditiona pp
 set -x
 for arg; do
   git checkout $arg
   git pull
 done
 git pull;  git push --all -v
 set +x
 df -h --output=avail / 
}
run(){
  g++ -std=c++17 $1 && ./a.exe
}
sav(){
  fn=$1
  cp -pv $fn $fn.$RANDOM
}
git config core.whitespace -trailing-space # complains if not in a git repo directory
g++ --version |grep g++.exe
py --version
printf "done sourcing append.bashrc_win.txt at SHLVL = $SHLVL\n"
